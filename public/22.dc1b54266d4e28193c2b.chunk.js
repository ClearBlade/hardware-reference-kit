webpackJsonp([22],{"./app/components/CardTable/index.tsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return s});var s,l=n("./node_modules/react/index.js"),i=n.n(l),c=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./app/components/EntityIcons/index.ts"),d=n("./node_modules/reactstrap/dist/reactstrap.es.js"),p=n("./app/components/Icons/index.ts"),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=c.b.div.withConfig({displayName:"CardTable__ButtonRow"})(["display: flex;margin: 0 0 0.5rem 0;"]),b=c.b.div.withConfig({displayName:"CardTable__FullDiv"})(["width: 100%;"]),g=c.b.div.withConfig({displayName:"CardTable__Header"})(["margin-bottom: 0.75rem;"]),y=c.b.div.withConfig({displayName:"CardTable__CardWrapper"})(["> div {margin-bottom: 1rem;}"]);!function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC"}(s||(s={}));var v=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={sortDirection:e.props.initialSortDirection,sortKey:e.props.initialSortKey},e.renderHeader=function(t,n){return i.a.createElement(d.o,{xs:t.width?t.width:void 0,key:"h-column-"+n},i.a.createElement("span",{className:t.isSortable&&"c-pointer",onClick:function(){return e.handleClick(t)}},t.component," ",e.state.sortKey===t.sortKey&&e.renderSortIcon(e.state.sortDirection)))},e.handleClick=function(t){t.isSortable&&e.handleSortChange(t.sortKey)},e.handleSortChange=function(t){var n=e.state.sortDirection===s.ASC?s.DESC:s.ASC;e.props.onSortChange(t,n),e.setState(m({},e.state,{sortDirection:n,sortKey:t}))},e}return o(t,e),f(t,[{key:"render",value:function(){var e=this.props.childContainer||y;return i.a.createElement(b,{"data-cy":this.props["data-cy"]},i.a.createElement(g,null,i.a.createElement(h,null,this.props.headerColumns.map(this.renderHeader),this.props.exportCallback&&i.a.createElement(d.f,{size:"sm",className:"ml-auto float-right"},i.a.createElement("div",{className:"float-right"},i.a.createElement(d.e,{className:"btn btn-secondary",onClick:this.props.exportCallback},i.a.createElement(p.j,null)))))),i.a.createElement(e,null,this.props.children))}},{key:"renderSortIcon",value:function(e){return e===s.ASC?i.a.createElement(u.f,null):i.a.createElement(u.d,null)}}]),t}(i.a.Component);v.defaultProps={headerColumns:[],initialSortDirection:s.ASC,initialSortKey:""},t.b=v},"./app/components/CbPrompt/index.tsx":function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}n.d(t,"a",function(){return l});var a=n("./node_modules/react/index.js"),o=n.n(a),s=n("./node_modules/react-router/index.js"),l=(n.n(s),"#cancel"),i=function(e){var t=e.message,n=r(e,["message"]);return o.a.createElement(s.Prompt,Object.assign({message:function(e){return n.location.pathname===e.pathname||(e.hash===l||t)}},n))};t.b=Object(s.withRouter)(i)},"./app/components/ConsolePage/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("./app/components/ZeroState/index.tsx"),l=n("./app/components/LoadingIndicator/index.tsx"),i=o.b.div.withConfig({displayName:"ConsolePage__ContentWrapper"})(["padding: 0 2rem;"]),c=Object(o.b)("div").withConfig({displayName:"ConsolePage__BodyWrapper"})(["padding: 0 2rem;flex-grow: 1;height: 100%;overflow-y: ",";display: flex;padding-top: 0.1rem; /* add a tiny bit of padding so things in the body don't get cut off */"],function(e){return e.allowScroll?"auto":""}),u=function(e){return e.isFetchingAssets?a.a.createElement(l.a,{forPage:!0}):e.zeroState.show?a.a.createElement(c,{allowScroll:e.allowScroll},a.a.createElement(s.a,Object.assign({},e.zeroState))):a.a.createElement(a.a.Fragment,null,e.subheader&&a.a.createElement(i,null," ",e.subheader," "),a.a.createElement(c,{allowScroll:e.allowScroll},e.children))};u.defaultProps={isFetchingAssets:!1,allowScroll:!0,zeroState:{show:!1,title:null,info:null,addButton:null,icon:null}},t.a=u},"./app/components/ConsolePageFooter/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=o.b.div.withConfig({displayName:"ConsolePageFooter__MyFoot"})(["min-height: 3.5rem;display: flex;align-items: center;padding: 0.5rem 1rem;z-index: 1;background: white;"]),l=o.b.div.withConfig({displayName:"ConsolePageFooter__ActionButtonContainer"})(["margin-left: auto;"]),i=function(e){return a.a.createElement(s,null,e.leftButtons&&a.a.createElement(e.leftButtons,null),e.actionButtons&&a.a.createElement(l,null,a.a.createElement(e.actionButtons,null)))};t.a=i},"./app/components/ConsolePageHeader/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=o.b.div.withConfig({displayName:"ConsolePageHeader__Wrapper"})(["display: flex;align-items: center;margin-bottom: 2rem;flex-wrap: wrap;"]),l=o.b.div.withConfig({displayName:"ConsolePageHeader__SubHeaderWrapper"})(["flex-basis: 100%;"]),i=function(e){return a.a.createElement(s,null,a.a.createElement("h2",null,e.header&&e.header),a.a.createElement("div",{className:"ml-auto"},e.actionButton&&a.a.createElement(e.actionButton,null)),e.subHeader&&a.a.createElement(l,null," ",e.subHeader))};t.a=i},"./app/components/EntityDescriptionEditor/index.tsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/index.js"),l=n.n(s),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./node_modules/reactstrap/dist/reactstrap.es.js"),u=n("./app/components/EntityIcons/index.ts"),d=n("./app/cssOverrides/styleVars.ts"),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=i.b.div.withConfig({displayName:"EntityDescriptionEditor__Wrapper"})(["max-width: 50vw;display: flex;"]),h=i.b.div.withConfig({displayName:"EntityDescriptionEditor__PreviewWrapper"})(["max-width: 90%;color: ",";display: inline-block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"],d.a.gray600),b=i.b.div.withConfig({displayName:"EntityDescriptionEditor__IconWrapper"})(["margin-left: 1rem;display: inline-block;"]),g=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={editMode:!1},e.handleClick=function(){e.state.editMode||e.toggleEditMode(!0,!1)},e.toggleEditMode=function(t,n){n&&e.props.onBlur&&e.props.onBlur(),e.setState(p({},e.state,{editMode:t}))},e}return o(t,e),m(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,a=t.defaultValue;return l.a.createElement(f,{className:"c-pointer",onClick:this.handleClick},this.state.editMode?l.a.createElement(c.y,{autoFocus:!0,type:"textarea",value:n,onChange:function(e){return r(e.target.value)},onBlur:function(){return e.toggleEditMode(!1,!0)}}):l.a.createElement(l.a.Fragment,null,l.a.createElement(h,null,n||a),l.a.createElement(b,null,l.a.createElement(u.t,null))))}}]),t}(l.a.Component);g.defaultProps={defaultValue:""},t.a=g},"./app/components/HoverCard/index.tsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/index.js"),l=n.n(s),i=n("./node_modules/material-ui-next/Card/index.js"),c=n.n(i),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={raised:!1},e.onMouseOver=function(){return e.setState({raised:!0})},e.onMouseOut=function(){return e.setState({raised:!1})},e}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.showPointerCursor,n=e.className;return l.a.createElement(c.a,{raised:this.props.raised||this.state.raised,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,className:n+" "+(t?"c-pointer":"")},this.props.children)}}]),t}(l.a.Component);d.defaultProps={showPointerCursor:!1,raised:!1},t.a=d},"./app/components/ZeroState/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r),o=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/reactstrap/dist/reactstrap.es.js"),l=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=Object(l.b)(s.C).withConfig({displayName:"ZeroState__JumboWrapper"})(["width: 100%;display: inline-table; /* note: this allows the jumbotron to only take up the space it needs, rather than the entire page */"]),c=function(e){return a.a.createElement(i,{className:e.className},a.a.createElement("h1",{className:"display-3"},e.icon," ",a.a.createElement(o.b,Object.assign({},e.title))),a.a.createElement("p",{className:"lead"},a.a.createElement(o.b,Object.assign({},e.info))),a.a.createElement("hr",{className:"my-2"}),e.moreInfo&&a.a.createElement("p",null,e.moreInfo),a.a.createElement("p",{className:"lead"},e.addButton))};t.a=c},"./app/containers/RoleDetail/index.tsx":function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;switch(arguments[1].type){case Q.a.INIT_ROLE_DETAIL:return J()(e,function(){return Z});default:return e}}function a(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(G.d)(Object(se.e)());case 2:if(t=n.sent,t.services.hasFetched){n.next=6;break}return n.next=6,Object(G.c)(le.serviceActions.fetchAll.request(e));case 6:if(t.portals.hasFetched){n.next=9;break}return n.next=9,Object(G.c)(le.portalActions.fetchAll.request(e));case 9:if(t.collections.hasFetched){n.next=12;break}return n.next=12,Object(G.c)(le.collectionActions.fetchAll.request(e));case 12:case"end":return n.stop()}},de,this)}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.c)(Object(ee.push)(ue.d.roles()));case 2:case"end":return e.stop()}},pe,this)}function s(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.d)(Object($.selectRoleByName)(xe));case 2:if(!(e=t.sent)){t.next=10;break}return t.next=6,Object(G.c)(Object(oe.f)(e));case 6:return t.next=8,a(Object(ie.a)().systemKey);case 8:t.next=12;break;case 10:return t.next=12,o();case 12:case"end":return t.stop()}},me,this)}function l(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return xe=e.payload.name,n.next=3,Object(G.d)(Object($.selectRoles)());case 3:if(t=n.sent,t.isFetching){n.next=7;break}return n.next=7,Object(G.c)(le.rolesActions.fetchAll.request(e.payload.systemKey));case 7:case"end":return n.stop()}},fe,this)}function i(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.g)(Q.a.INIT_ROLE_DETAIL,l);case 2:case"end":return e.stop()}},he,this)}function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.g)(le.rolesActions.fetchAll.successType,s);case 2:case"end":return e.stop()}},be,this)}function u(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.g)(Y.a.SAVE_ROLE_SUCCESS,o);case 2:case"end":return e.stop()}},ge,this)}function d(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.systemKey,n=e.payload.role,r.next=5,Object(G.b)(ce.c,t,n.ID);case 5:return r.next=7,Object(G.c)(re(t,n));case 7:return r.next=9,o();case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object(G.c)(ae(r.t0));case 15:case"end":return r.stop()}},ye,this,[[0,11]])}function p(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.g)(Q.a.DELETE_ROLE_REQUEST,d);case 2:case"end":return e.stop()}},ve,this)}function m(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.g)(Y.a.SAVE_ROLE_SUCCESS,regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.c)(Object(oe.c)({pkColumn:"name",assetClass:"roles",item:t.payload,touched:!1}));case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},Ce,this)}function f(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)([i(),c(),p(),m(),u()]);case 2:case"end":return e.stop()}},we,this)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e,t){var n=t.match.params.systemKey,r=Lt(t);return{init:function(){e(te(n,r))},createResetModifiableRoles:function(){return e(Object(oe.b)({assetClass:"roles"}))},permissionChange:function(){return e(oe.k.apply(void 0,arguments))},saveRoleRequest:function(t){return e(Object(St.e)(n,t))},deleteRoleRequest:function(t){return e(Object(Nt.l)("Are you sure you want to delete '"+t.Name+"'?",ne(n,t)))},onDescriptionChange:function(t){return e(Object(oe.i)({name:r,Description:t}))},removePerm:function(t,a,o){return e(Object(Nt.l)(t,Object(St.b)(n,r,a,o)))}}}Object.defineProperty(t,"__esModule",{value:!0});var N=n("./node_modules/react/index.js"),k=n.n(N),F=n("./node_modules/react-redux/es/index.js"),I=n("./app/utils/injectSaga.tsx"),U=n("./node_modules/redux/es/index.js"),L=n("./node_modules/reactstrap/dist/reactstrap.es.js"),B=n("./app/utils/injectReducer.tsx"),W=n("./node_modules/reselect/es/index.js"),q=function(){return function(e){return e.RoleDetail}},K=function(){return Object(W.a)(z(),function(e){return e.hasLoaded})},z=function(){return Object(W.a)(q(),function(e){return e})},V=n("./node_modules/immutable-assign/deploy/iassign.js"),J=n.n(V),Q=n("./app/containers/RoleDetail/actionConstants.ts"),Z={hasLoaded:!0},X=r,G=n("./node_modules/redux-saga/es/effects.js"),Y=n("./app/containers/Console/actions/rolesConstants.ts"),$=n("./app/containers/Console/selectors/roles.ts"),ee=n("./node_modules/react-router-redux/index.js"),te=function(e,t){return{type:Q.a.INIT_ROLE_DETAIL,payload:{systemKey:e,name:t}}},ne=function(e,t){return{type:Q.a.DELETE_ROLE_REQUEST,payload:{systemKey:e,role:t}}},re=function(e,t){return{type:Q.a.DELETE_ROLE_SUCCESS,payload:{systemKey:e,role:t}}},ae=function(e){return{type:Q.a.DELETE_ROLE_ERROR,payload:{error:e}}},oe=n("./app/containers/Console/actions/modifiableEnitites.ts"),se=n("./app/containers/Console/consoleSelectors.ts"),le=n("./app/containers/Console/ducks/index.ts"),ie=n("./app/cb-utils/getPathParams.ts"),ce=n("./app/cb-utils/services/roles.ts"),ue=n("./app/cb-utils/getUrls.ts"),de=regeneratorRuntime.mark(a),pe=regeneratorRuntime.mark(o),me=regeneratorRuntime.mark(s),fe=regeneratorRuntime.mark(l),he=regeneratorRuntime.mark(i),be=regeneratorRuntime.mark(c),ge=regeneratorRuntime.mark(u),ye=regeneratorRuntime.mark(d),ve=regeneratorRuntime.mark(p),Ce=regeneratorRuntime.mark(m),we=regeneratorRuntime.mark(f),xe=void 0,Ee=n("./app/components/ConsolePage/index.tsx"),_e=n("./app/components/ConsolePageHeader/index.tsx"),je=n("./app/components/ConsolePageFooter/index.tsx"),He=n("./app/components/LoadingIndicator/index.tsx"),Oe=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Pe=n("./node_modules/lodash/lodash.js"),Te=n("./node_modules/react-intl/lib/index.es.js"),Re=Oe.b.div.withConfig({displayName:"PermissionsCardTitleSection__IconAndTitleWrapper"})(["font-size: 2.5rem;align-items: center;"]),De=Oe.b.h4.withConfig({displayName:"PermissionsCardTitleSection__TitleWrapper"})(["margin-left: 0.75rem;"]),Me=function(e){return k.a.createElement(Re,{className:"d-flex flex-row"},k.a.createElement(e.icon,null),k.a.createElement(De,null,k.a.createElement(Te.b,Object.assign({},e.title))))},Ae=Me,Se=n("./app/components/CrudpermissionsRow/index.tsx"),Ne=n("./app/cb-utils/console-entity-models/index.ts"),ke=n("./node_modules/material-ui-next/Card/index.js"),Fe=n.n(ke),Ie=n("./app/components/HoverCard/index.tsx"),Ue=n("./node_modules/react-icons/lib/fa/chevron-circle-down.js"),Le=n.n(Ue),Be=n("./node_modules/react-icons/lib/fa/chevron-circle-up.js"),We=n.n(Be),qe=Oe.b.div.withConfig({displayName:"PermissionsCardTable__TableContainer"})(["td {",";}"],function(e){return e.showborder?"border-top: 1px solid #e9ecef;":"border: none !important"}),Ke=Object(Oe.b)(L.X).withConfig({displayName:"PermissionsCardTable__TableWrapper"})(["table-layout: fixed;margin-bottom: 0;td span,th span {margin-left: 0.25rem;}tr td:not(:first-child) {color: gray;}"]),ze={showborder:!0},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showborder:!0},t=Object(Pe.omit)(e,"showborder");return k.a.createElement(qe,{showborder:e.showborder}," ",k.a.createElement(Ke,Object.assign({},t)))};Ve.defaultProps=ze;var Je=Ve,Qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ze=Oe.b.div.withConfig({displayName:"PermissionsCard__ToggleContainer"})(["font-size: 1.25rem;position: absolute;right: 0;"]),Xe=Oe.b.div.withConfig({displayName:"PermissionsCard__HeaderRow"})(["position: relative;"]),Ge=function(e){function t(){h(this,t);var e=b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isExpanded:!1},e}return g(t,e),Qe(t,[{key:"render",value:function(){var e=this,t=this.state.isExpanded,n=this.props,r=n.allowHoverEffect,a=n.table,o=n.header,s=n.showToggleIcon,l=n.cardFooterContent,i=r?Ie.a:Fe.a;return k.a.createElement(i,null,k.a.createElement(ke.CardContent,{className:s?"c-pointer":"",onClick:function(){return e.setState({isExpanded:!t})}},k.a.createElement(Xe,{className:"d-flex flex-row"},k.a.createElement(Je,{showborder:!1,size:"sm"},k.a.createElement("tbody",null,o)),s&&k.a.createElement(Ze,{className:"ml-auto"},t?k.a.createElement(We.a,null):k.a.createElement(Le.a,null)))),s&&k.a.createElement(L.p,{isOpen:t},k.a.createElement(ke.CardContent,null,k.a.createElement(L.v,null,a)),l&&k.a.createElement(ke.CardActions,null,l)))}}]),t}(k.a.Component);Ge.defaultProps={showToggleIcon:!1,allowHoverEffect:!0};var Ye=Ge,$e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),et=function(e){function t(){y(this,t);var e=v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.renderHeader=function(){var t=e.props,n=t.icon,r=t.title,a=t.perms,o=t.onChange,s=t.readHelpText,l=t.updateHelpText,i=t.createHelpText,c=t.deleteHelpText,u=t.allPermissionsCode;return k.a.createElement(Se.a,{label:k.a.createElement(Ae,{icon:n,title:r}),perms:a,onChange:o,readHelpText:s,updateHelpText:l,deleteHelpText:c,createHelpText:i,allPermissionsCode:u})},e}return C(t,e),$e(t,[{key:"render",value:function(){return this.props.perms?k.a.createElement(Ye,{header:this.renderHeader(),allowHoverEffect:!1}):null}}]),t}(k.a.PureComponent);et.defaultProps={allPermissionsCode:Ne.Permissions.All};var tt=et,nt=n("./app/containers/Console/messages.ts"),rt=Object(Te.e)({noPermissionsAdded:{id:"app.containers.Console.noPermissionsAdded",defaultMessage:"No permissions added"},noEntitiesInSystem:{id:"app.containers.Console.noEntitiesInSystem",defaultMessage:"No {assetClass} in system"}}),at=rt,ot=n("./app/components/Icons/index.ts"),st=n("./node_modules/react-icons/lib/fa/check.js"),lt=n.n(st),it=n("./app/components/PermissionFieldCheckbox/index.tsx"),ct=n("./app/components/HelpPrimitive/index.tsx"),ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),dt=Oe.b.span.withConfig({displayName:"PermissionsCardForLists__NameHeader"})(["font-weight: bold;"]),pt=function(e,t){return 0===e?k.a.createElement("b",null,"0"):e===t?k.a.createElement(lt.a,null):k.a.createElement("b",null,e+"/"+t)},mt=function(e,t,n){var r=0,a=e.entities,o=void 0;for(var s in a)a.hasOwnProperty(s)&&(o=Object(Pe.find)(t,{Name:s}))&&Object(Ne.canPerformOperation)(o.Level,n)&&(r+=1);return r},ft=function(e){return Object.keys(e.entities).length},ht=function(e){function t(){w(this,t);var e=x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.fetchNumeratorFactory=function(t){return function(){return mt(e.props.list,e.props.perms,t)}},e.getReadableEntities=e.fetchNumeratorFactory(Ne.Permissions.Read),e.getUpdateableEntities=e.fetchNumeratorFactory(Ne.Permissions.Update),e.getCreatableEntities=e.fetchNumeratorFactory(Ne.Permissions.Create),e.getDeletableEntities=e.fetchNumeratorFactory(Ne.Permissions.Delete),e.getTotal=function(){return ft(e.props.list)},e.renderHeader=function(){var t=e.props,n=t.readPermissionText,r=t.createPermissionText,a=t.allPermissionsCode,o=e.getReadableEntities(),s=e.getUpdateableEntities(),l=e.getCreatableEntities(),i=e.getDeletableEntities();return k.a.createElement(Se.a,{label:k.a.createElement(Ae,{icon:e.props.icon,title:e.props.title}),alternateText:e.getAlternateText(o+s+l+i===Ne.Permissions.None),showAll:!1,readPermissionText:n,readField:e.renderField(o,n),createField:e.renderField(l,r),updateField:e.renderField(s,nt.a.updatePermission),deleteField:e.renderField(i,nt.a.deletePermission),allPermissionsCode:a})},e.getAlternateText=function(t){return e.props.alternateText?e.props.alternateText:0===e.getTotal()?k.a.createElement(Te.b,Object.assign({},at.noEntitiesInSystem,{values:{assetClass:e.props.assetClass}})):t?k.a.createElement(Te.b,Object.assign({},at.noPermissionsAdded)):null},e.renderField=function(t,n){var r=e.getTotal();return k.a.createElement("div",null,pt(t,r),k.a.createElement(Te.b,Object.assign({},n)))},e.renderTable=function(){var t=e.props,n=t.showAll,r=t.allPermissionsCode,a=t.readPermissionText,o=t.createPermissionText,s=t.nameLabelHelp,l=ft(e.props.list);return k.a.createElement(Je,{size:"sm",striped:!0},k.a.createElement("thead",null,k.a.createElement(Se.a,{label:k.a.createElement(dt,null,k.a.createElement(Te.b,Object.assign({},nt.a.name)),s&&k.a.createElement(ct.a,{body:k.a.createElement(Te.b,Object.assign({},s))})),showAll:n,cellTag:"th",readField:e.renderTableHeaderField(Ne.Permissions.Read,a,l),updateField:e.renderTableHeaderField(Ne.Permissions.Update,nt.a.updatePermission,l),createField:e.renderTableHeaderField(Ne.Permissions.Create,o,l),deleteField:e.renderTableHeaderField(Ne.Permissions.Delete,nt.a.deletePermission,l),allField:e.renderTableHeaderField(r,nt.a.allPermissions,l),allPermissionsCode:r})),k.a.createElement("tbody",null,e.renderRows()))},e.renderTableHeaderField=function(t,n,r){var a=mt(e.props.list,e.props.perms,t)===r;return k.a.createElement(it.a,{checked:a,onChange:function(){var n=t;a&&(n=-t),e.props.onChangeAll(n)},message:n})},e.getPermissionsForItem=function(t){for(var n=0,r=e.props.perms.length;n<r;n+=1)if(e.props.perms[n].Name===t)return{Level:e.props.perms[n].Level};return{Level:0}},e.renderRows=function(){var t=e.props,n=t.list,r=t.showAll,a=t.onChange,o=t.allPermissionsCode,s=t.readPermissionText,l=t.createPermissionText,i=t.removePerm,c=[];for(var u in n.entities)!function(t){n.entities.hasOwnProperty(t)&&c.push(k.a.createElement(Se.a,{key:t,label:i?k.a.createElement("span",null,k.a.createElement(L.e,{"data-cy":"remove-perm",size:"sm",onClick:function(){return i(t)}},k.a.createElement(ot.f,null))," ",t):t,perms:e.getPermissionsForItem(t),allPermissionsCode:o,readPermissionText:s,createPermissionText:l,showAll:r,onChange:function(e){return a(e,n.entities[t])}}))}(u);return c},e}return E(t,e),ut(t,[{key:"render",value:function(){var e=this.props,t=e.forceAllowOpen,n=e.cardFooterContent,r=this.getTotal()>0;return k.a.createElement(Ye,{header:this.renderHeader(),table:this.renderTable(),allowHoverEffect:r||t,showToggleIcon:r||t,cardFooterContent:n})}}]),t}(k.a.PureComponent);ht.defaultProps={showAll:!0,allPermissionsCode:Ne.Permissions.All,readPermissionText:nt.a.readPermission,createPermissionText:nt.a.createPermission,forceAllowOpen:!1};var bt=ht,gt=n("./app/components/EntityIcons/index.ts"),yt=Object(Te.e)({perItem:{id:"app.containers.RoleDetail.perItem",defaultMessage:"Per item"},overall:{id:"app.containers.RoleDetail.overall",defaultMessage:"Overall"},deleteRole:{id:"app.containers.RoleDetail.deleteRole",defaultMessage:"Delete Role"},userReadHelp:{id:"app.containers.RoleDetail.userReadHelp",defaultMessage:"Allows a user with this role to read other rows in the users table"},userCreateHelp:{id:"app.containers.RoleDetail.userCreateHelp",defaultMessage:"Allows a user with this role to create other users"},userUpdateHelp:{id:"app.containers.RoleDetail.userUpdateHelp",defaultMessage:"Allows a user with this role to update other rows in the users table"},userDeleteHelp:{id:"app.containers.RoleDetail.userDeleteHelp",defaultMessage:"Allows a user with this role to delete other rows in the users table"},deviceReadHelp:{id:"app.containers.RoleDetail.deviceReadHelp",defaultMessage:"Allows a device with this role to read other rows in the devices table"},deviceCreateHelp:{id:"app.containers.RoleDetail.deviceCreateHelp",defaultMessage:"Allows a device with this role to create other devices"},deviceUpdateHelp:{id:"app.containers.RoleDetail.deviceUpdateHelp",defaultMessage:"Allows a device with this role to update other rows in the devices table"},deviceDeleteHelp:{id:"app.containers.RoleDetail.deviceDeleteHelp",defaultMessage:"Allows a device with this role to delete other rows in the devices table"},msgHistoryReadHelp:{id:"app.containers.RoleDetail.msgHistoryReadHelp",defaultMessage:"Allows a user with this role to read the history of messages for any topic"},msgHistoryDeleteHelp:{id:"app.containers.RoleDetail.msgHistoryDeleteHelp",defaultMessage:"Allows a user with this role to delete stored messages for any topic"},collectionReadHelp:{id:"app.containers.RoleDetail.collectionReadHelp",defaultMessage:"Allows a user with this role to fetch the list of collection names"},collectionCreateHelp:{id:"app.containers.RoleDetail.collectionCreateHelp",defaultMessage:"Allows a user with this role to create collections"},collectionUpdateHelp:{id:"app.containers.RoleDetail.collectionUpdateHelp",defaultMessage:"Allows a user with this role to update collection schemas"},collectionDeleteHelp:{id:"app.containers.RoleDetail.collectionDeleteHelp",defaultMessage:"Allows a user with this role to delete collections"},serviceReadHelp:{id:"app.containers.RoleDetail.serviceReadHelp",defaultMessage:"Allows a user with this role to fetch the list of service names"},serviceCreateHelp:{id:"app.containers.RoleDetail.serviceCreateHelp",defaultMessage:"Allows a user with this role to create services"},serviceUpdateHelp:{id:"app.containers.RoleDetail.serviceUpdateHelp",defaultMessage:"Allows a user with this role to update services"},serviceDeleteHelp:{id:"app.containers.RoleDetail.serviceDeleteHelp",defaultMessage:"Allows a user with this role to delete services"},edgeReadHelp:{id:"app.containers.RoleDetail.edgeReadHelp",defaultMessage:"Allows a user with this role to fetch the list of edges"},edgeCreateHelp:{id:"app.containers.RoleDetail.edgeCreateHelp",defaultMessage:"Allows a user with this role to create edges"},edgeUpdateHelp:{id:"app.containers.RoleDetail.edgeUpdateHelp",defaultMessage:"Allows a user with this role to update edges"},edgeDeleteHelp:{id:"app.containers.RoleDetail.edgeDeleteHelp",defaultMessage:"Allows a user with this role to delete edges"},triggerReadHelp:{id:"app.containers.RoleDetail.triggerReadHelp",defaultMessage:"Allows a user with this role to fetch the list of triggers"},triggerCreateHelp:{id:"app.containers.RoleDetail.triggerCreateHelp",defaultMessage:"Allows a user with this role to create triggers"},triggerUpdateHelp:{id:"app.containers.RoleDetail.triggerUpdateHelp",defaultMessage:"Allows a user with this role to update triggers"},triggerDeleteHelp:{id:"app.containers.RoleDetail.triggerDeleteHelp",defaultMessage:"Allows a user with this role to delete triggers"},timerReadHelp:{id:"app.containers.RoleDetail.timerReadHelp",defaultMessage:"Allows a user with this role to fetch the list of timers"},timerCreateHelp:{id:"app.containers.RoleDetail.timerCreateHelp",defaultMessage:"Allows a user with this role to create timers"},timerUpdateHelp:{id:"app.containers.RoleDetail.timerUpdateHelp",defaultMessage:"Allows a user with this role to update timers"},timerDeleteHelp:{id:"app.containers.RoleDetail.timerDeleteHelp",defaultMessage:"Allows a user with this role to delete timers"},deploymentReadHelp:{id:"app.containers.RoleDetail.deploymentReadHelp",defaultMessage:"Allows a user with this role to fetch the list of deployments"},deploymentCreateHelp:{id:"app.containers.RoleDetail.deploymentCreateHelp",defaultMessage:"Allows a user with this role to create deployments"},deploymentUpdateHelp:{id:"app.containers.RoleDetail.deploymentUpdateHelp",defaultMessage:"Allows a user with this role to update deployments"},deploymentDeleteHelp:{id:"app.containers.RoleDetail.deploymentDeleteHelp",defaultMessage:"Allows a user with this role to delete deployments"},roleReadHelp:{id:"app.containers.RoleDetail.roleReadHelp",defaultMessage:"Allows a user with this role to fetch the list of roles"},roleCreateHelp:{id:"app.containers.RoleDetail.roleCreateHelp",defaultMessage:"Allows a user with this role to create roles"},roleUpdateHelp:{id:"app.containers.RoleDetail.roleUpdateHelp",defaultMessage:"Allows a user with this role to update roles"},roleDeleteHelp:{id:"app.containers.RoleDetail.roleDeleteHelp",defaultMessage:"Allows a user with this role to delete roles"},removePermConfirmation:{id:"app.containers.RoleDetail.removePermConfirmation",defaultMessage:"Are you sure you want to remove the permission for '{name}'?"},addTopic:{id:"app.components.PermissionsCardForTopics.addTopic",defaultMessage:"Add topic"},openToConfig:{id:"app.components.PermissionsCardForTopics.openToConfig",defaultMessage:"No permissions set for topics"},topicHelp:{id:"app.components.PermissionsCardForTopics.topicHelp",defaultMessage:"Specify the permissions for message topics in your system. MQTT wildcards such as '#' and '+' are valid."},warnLeaveMessage:{id:"app.components.PermissionsCardForTopics.warnLeaveMessage",defaultMessage:"Unsaved changes will be lost"}}),vt=yt,Ct=n("./app/components/CardTable/index.tsx"),wt=n("./app/components/CbTypeahead/index.tsx"),xt=n("./app/components/CbTagInput/messages.ts"),Et=Object(Te.e)({return:{id:"app.components.TypeaheadWithSubmit.return",defaultMessage:"Return"}}),_t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jt=Oe.b.div.withConfig({displayName:"TypeaheadWithSubmit__TypeaheadContainer"})(["min-width: 20rem;display: inline-block;"]),Ht=function(e){function t(){j(this,t);var e=H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={newEntry:"",isMenuOpen:!1},e.toggleMenuState=function(t){e.setState({isMenuOpen:t})},e.handleChange=function(t){e.setState({newEntry:t})},e.handleKeyDown=function(t){"Enter"!==t.key||t.shiftKey||e.handleAdd(t.target.value)},e.handleAdd=function(t){e.props.onSubmit(t),""!==e.state.newEntry&&e.setState({newEntry:""}),e.typeaheadRef.getInstance().clear()},e}return O(t,e),_t(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.addMessage,_(t,["addMessage"]));return k.a.createElement(k.a.Fragment,null,k.a.createElement(jt,null,k.a.createElement(wt.a,Object.assign({},n,{onInputChange:this.handleChange,onKeyDown:this.handleKeyDown,onChange:function(t){e.handleAdd(t)},onMenuShow:function(){return e.toggleMenuState(!0)},onMenuHide:function(){return e.toggleMenuState(!1)},getRef:function(t){e.typeaheadRef=t}}))),k.a.createElement(L.e,{onClick:function(){return e.handleAdd(e.state.newEntry)},className:"ml-2",color:"primary","data-cy":"typeahead-submit-btn"},k.a.createElement(Te.b,Object.assign({},this.props.addMessage)),(""!==this.state.newEntry||this.state.isMenuOpen)&&k.a.createElement("small",null,"  (",k.a.createElement(Te.b,Object.assign({},Et.return))," ",k.a.createElement(ot.r,null),")")))}}]),t}(k.a.Component);Ht.defaultProps={addMessage:xt.a.add};var Ot=Ht,Pt=n("./app/cb-utils/services/messages.ts"),Tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rt=Object(Oe.b)(L.C).withConfig({displayName:"PermissionsMatrix__JumbotronWrapper"})(["padding: 2rem;"]),Dt=Oe.b.div.withConfig({displayName:"PermissionsMatrix__Wrapper"})(["min-width: 950px;"]),Mt=function(e){function t(){P(this,t);var e=T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={allTopics:[]},e.handleChangeAll=function(t,n,r,a,o){var s=n.entities;for(var l in s)s.hasOwnProperty(l)&&e.props.onChange(t,r,s[l][a],s[l][o])},e.getAlternateTextForTopics=function(){if(0===e.props.role.Permissions.Topics.length)return k.a.createElement(Te.b,Object.assign({},vt.openToConfig))},e}return R(t,e),Tt(t,[{key:"componentDidMount",value:function(){var e=this;Object(Pt.e)().then(function(t){return e.setState({allTopics:t})})}},{key:"render",value:function(){var e=this.props,t=e.role.Permissions,n=e.onChange,r=e.onChangeAll,a=e.collections,o=e.portals,s=e.services,l=e.removePerm,i={loading:{},hasFetched:!1,entities:Object(Pe.keyBy)(t.Topics,"Name")};return k.a.createElement(Dt,null,k.a.createElement(Rt,null,k.a.createElement("h4",null,k.a.createElement(Te.b,Object.assign({},vt.perItem))),k.a.createElement(Ct.b,null,k.a.createElement(bt,{icon:gt.i,title:nt.a.assetClassCollections,perms:t.Collections,list:a,onChange:function(e,t){return n("Collections",e,t.collectionID,t.name)},onChangeAll:function(e){return r("Collections",a,e)},assetClass:"collections"}),k.a.createElement(bt,{icon:gt.v,title:nt.a.assetClassPortals,perms:t.Portals,list:o,allPermissionsCode:Ne.AllPermissionsCodeForPortals,onChange:function(e,t){return n("Portals",e,t.name,t.name)},onChangeAll:function(e){return r("Portals",o,e)},assetClass:"portals"}),k.a.createElement(bt,{icon:gt.h,title:nt.a.assetClassServices,perms:t.CodeServices,list:s,showAll:!1,readPermissionText:nt.a.runPermission,allPermissionsCode:Ne.Permissions.Read,onChange:function(e,t){return n("CodeServices",e,t.name,t.name)},onChangeAll:function(e){return r("CodeServices",s,e)},assetClass:"services"}),k.a.createElement("div",{"data-cy":"topics-card"},k.a.createElement(bt,{icon:gt.s,title:nt.a.messageTopics,nameLabelHelp:vt.topicHelp,perms:t.Topics,list:i,readPermissionText:nt.a.subscribePermission,createPermissionText:nt.a.publishPermission,allPermissionsCode:Ne.AllPermissionsCodeForTopics,onChange:function(e,t){return n("Topics",e,t.Name,t.Name)},onChangeAll:function(e){return r("Topics",i,e)},removePerm:function(e){return l(Ne.RemovablePermissions.TOPIC,e)},assetClass:"topics",alternateText:this.getAlternateTextForTopics(),forceAllowOpen:!0,cardFooterContent:k.a.createElement("div",{className:"py-4 pl-3"},k.a.createElement(Ot,{options:this.state.allTopics.filter(function(e){return!Object(Pe.some)(t.Topics,{Name:e})}).map(function(e){return{name:e,value:e}}),onSubmit:function(e){return n("Topics",Ne.AllPermissionsCodeForTopics,e,e)},emptyLabel:"Add new topic",addMessage:vt.addTopic}))})))),k.a.createElement(Rt,null,k.a.createElement("h4",null,k.a.createElement(Te.b,Object.assign({},vt.overall))),k.a.createElement("div",{"data-cy":"overall-perms"},k.a.createElement(Ct.b,null,k.a.createElement(tt,{icon:gt.D,title:nt.a.assetClassUsers,perms:t.UsersList,onChange:function(e){return n("UsersList",e)},readHelpText:vt.userReadHelp,updateHelpText:vt.userUpdateHelp,createHelpText:vt.userCreateHelp,deleteHelpText:vt.userDeleteHelp}),k.a.createElement(tt,{icon:gt.k,title:nt.a.assetClassDevices,perms:t.DevicesList,onChange:function(e){return n("DevicesList",e)},readHelpText:vt.deviceReadHelp,updateHelpText:vt.deviceUpdateHelp,createHelpText:vt.deviceCreateHelp,deleteHelpText:vt.deviceDeleteHelp}),k.a.createElement(tt,{icon:gt.s,title:nt.a.assetClassMessageHistory,perms:t.MsgHistory,allPermissionsCode:Ne.Permissions.Read+Ne.Permissions.Delete,onChange:function(e){return n("MsgHistory",e)},readHelpText:vt.msgHistoryReadHelp,deleteHelpText:vt.msgHistoryDeleteHelp}),k.a.createElement(tt,{icon:gt.i,title:nt.a.assetClassCollections,perms:t.AllCollections,onChange:function(e){return n("AllCollections",e)},readHelpText:vt.collectionReadHelp,updateHelpText:vt.collectionUpdateHelp,createHelpText:vt.collectionCreateHelp,deleteHelpText:vt.collectionDeleteHelp}),k.a.createElement(tt,{icon:gt.h,title:nt.a.assetClassServices,perms:t.AllServices,onChange:function(e){return n("AllServices",e)},readHelpText:vt.serviceReadHelp,updateHelpText:vt.serviceUpdateHelp,createHelpText:vt.serviceCreateHelp,deleteHelpText:vt.serviceDeleteHelp}),k.a.createElement(tt,{icon:gt.l,title:nt.a.assetClassEdges,perms:t.EdgesList,onChange:function(e){return n("EdgesList",e)},readHelpText:vt.edgeReadHelp,updateHelpText:vt.edgeUpdateHelp,createHelpText:vt.edgeCreateHelp,deleteHelpText:vt.edgeDeleteHelp}),k.a.createElement(tt,{icon:gt.C,title:nt.a.assetClassTriggers,perms:t.Triggers,onChange:function(e){return n("Triggers",e)},readHelpText:vt.triggerReadHelp,updateHelpText:vt.triggerUpdateHelp,createHelpText:vt.triggerCreateHelp,deleteHelpText:vt.triggerDeleteHelp}),k.a.createElement(tt,{icon:gt.A,title:nt.a.assetClassTimers,perms:t.Timers,onChange:function(e){return n("Timers",e)},readHelpText:vt.timerReadHelp,updateHelpText:vt.timerUpdateHelp,createHelpText:vt.timerCreateHelp,deleteHelpText:vt.timerDeleteHelp}),k.a.createElement(tt,{icon:gt.j,title:nt.a.assetClassDeployments,perms:t.Deployments,onChange:function(e){return n("Deployments",e)},readHelpText:vt.deploymentReadHelp,updateHelpText:vt.deploymentUpdateHelp,createHelpText:vt.deploymentCreateHelp,deleteHelpText:vt.deploymentDeleteHelp}),k.a.createElement(tt,{icon:gt.w,title:nt.a.assetClassRoles,perms:t.Roles,onChange:function(e){return n("Roles",e)},readHelpText:vt.roleReadHelp,updateHelpText:vt.roleUpdateHelp,createHelpText:vt.roleCreateHelp,deleteHelpText:vt.roleDeleteHelp})))))}}]),t}(k.a.Component),At=Mt,St=n("./app/containers/Console/actions/roles.ts"),Nt=n("./app/containers/Console/actions/ui.ts"),kt=n("./app/components/EntityDescriptionEditor/index.tsx"),Ft=n("./app/containers/Console/selectors/modifiableEnitites.ts"),It=n("./app/components/CbPrompt/index.tsx");n.d(t,"RoleDetail",function(){return Bt});var Ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Lt=function(e){return e.match.params.roleName},Bt=function(e){function t(){D(this,t);var e=M(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._renderSubHeader=function(){var t=e.props.role&&e.props.role.Name;return t?k.a.createElement(k.a.Fragment,null,k.a.createElement(_e.a,{header:k.a.createElement("div",null,t),subHeader:k.a.createElement(kt.a,{value:e.props.role.Description,onChange:e.props.onDescriptionChange,defaultValue:"Description"})})):null},e.renderActionButtons=function(){return k.a.createElement(k.a.Fragment,null,k.a.createElement(L.e,{color:"default",onClick:function(){return e.props.history.push(ue.d.roles({},It.a))}},k.a.createElement(Te.b,Object.assign({},nt.a.discardChanges))),k.a.createElement(L.e,{color:"primary","data-cy":"save-role",onClick:function(){return e.props.saveRoleRequest(e.props.role)}},k.a.createElement(Te.b,Object.assign({},nt.a.saveAndExit))))},e.renderDeleteButton=function(){var t=e.props,n=t.role,r=t.deleteRoleRequest;return n?k.a.createElement(L.e,{color:"link",onClick:function(){return r(n)},"data-cy":"delete-role"},k.a.createElement(gt.B,null)," ",k.a.createElement(Te.b,Object.assign({},vt.deleteRole))):null},e}return A(t,e),Ut(t,[{key:"componentWillMount",value:function(){this.props.init()}},{key:"componentWillUnmount",value:function(){this.props.createResetModifiableRoles()}},{key:"render",value:function(){var e=this;return k.a.createElement(k.a.Fragment,null,k.a.createElement(It.b,{when:this.props.hasRoleChanged,message:this.props.intl.formatMessage(vt.warnLeaveMessage)}),k.a.createElement(Ee.a,{subheader:this._renderSubHeader()},this.props.role?k.a.createElement("div",null,k.a.createElement(At,{role:this.props.role,collections:this.props.collections,portals:this.props.portals,services:this.props.services,onChange:function(t,n,r,a){return e.props.permissionChange(e.props.role,t,n,[{name:a,collectionID:r}])},onChangeAll:function(t,n,r){return e.props.permissionChange(e.props.role,t,r,Object.values(n.entities))},removePerm:function(t,n){return e.props.removePerm(e.props.intl.formatMessage(vt.removePermConfirmation,{name:n}),t,n)}})):k.a.createElement(He.a,{forPage:!0})),k.a.createElement(je.a,{leftButtons:this.renderDeleteButton,actionButtons:this.renderActionButtons}))}}]),t}(k.a.PureComponent),Wt=function(e,t){var n=Lt(t);return Object(W.b)({hasRoleChanged:Object(Ft.b)({assetClass:"roles",id:n}),role:Object(Ft.a)("roles",n),hasLoaded:K(),collections:le.collectionSelectors.wholeSlice,portals:le.portalSelectors.wholeSlice,services:le.serviceSelectors.wholeSlice})},qt=Object(F.b)(Wt,S),Kt=Object(B.a)({key:"RoleDetail",reducer:X}),zt=Object(I.a)({key:"RoleDetail",saga:f});t.default=Object(U.d)(Kt,zt,qt,Te.f)(Bt)},"./node_modules/material-ui-next/Card/Card.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.raised,n=(0,i.default)(e,["raised"]);return u.default.createElement(m.default,(0,s.default)({elevation:t?8:2},n))}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/helpers/extends.js"),s=r(o),l=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),i=r(l),c=n("./node_modules/react/index.js"),u=r(c),d=n("./node_modules/prop-types/index.js"),p=(r(d),n("./node_modules/material-ui-next/Paper/index.js")),m=r(p);a.propTypes={},a.defaultProps={raised:!1},t.default=a},"./node_modules/material-ui-next/Card/CardActions.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.disableActionSpacing,n=e.children,r=e.classes,a=e.className,o=(0,i.default)(e,["disableActionSpacing","children","classes","className"]);return u.default.createElement("div",(0,s.default)({className:(0,m.default)(r.root,a)},o),t?n:(0,b.cloneChildrenWithClassName)(n,r.action))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n("./node_modules/babel-runtime/helpers/extends.js"),s=r(o),l=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),i=r(l),c=n("./node_modules/react/index.js"),u=r(c),d=n("./node_modules/prop-types/index.js"),p=(r(d),n("./node_modules/classnames/index.js")),m=r(p),f=n("./node_modules/material-ui-next/styles/withStyles.js"),h=r(f),b=n("./node_modules/material-ui-next/utils/reactHelpers.js"),g=t.styles={root:{height:52,display:"flex",alignItems:"center",padding:"2px 4px"},action:{margin:"0 4px"}};a.propTypes={},a.defaultProps={disableActionSpacing:!1},t.default=(0,h.default)(g,{name:"MuiCardActions"})(a)},"./node_modules/material-ui-next/Card/CardContent.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.classes,n=e.className,r=(0,i.default)(e,["classes","className"]);return u.default.createElement("div",(0,s.default)({className:(0,m.default)(t.root,n)},r))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n("./node_modules/babel-runtime/helpers/extends.js"),s=r(o),l=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),i=r(l),c=n("./node_modules/react/index.js"),u=r(c),d=n("./node_modules/prop-types/index.js"),p=(r(d),n("./node_modules/classnames/index.js")),m=r(p),f=n("./node_modules/material-ui-next/styles/withStyles.js"),h=r(f),b=t.styles=function(e){return{root:{padding:2*e.spacing.unit,"&:last-child":{paddingBottom:3*e.spacing.unit}}}};a.propTypes={},t.default=(0,h.default)(b,{name:"MuiCardContent"})(a)},"./node_modules/material-ui-next/Card/CardHeader.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.avatar,n=e.action,r=e.classes,a=e.className,o=e.subheader,l=e.title,c=(0,i.default)(e,["avatar","action","classes","className","subheader","title"]);return u.default.createElement(v.default,(0,s.default)({className:(0,m.default)(r.root,a)},c),t&&u.default.createElement("div",{className:r.avatar},t),u.default.createElement("div",{className:r.content},u.default.createElement(g.default,{type:t?"body2":"headline",component:"span",className:r.title},l),o&&u.default.createElement(g.default,{type:t?"body2":"body1",component:"span",color:"secondary",className:r.subheader},o)),n&&u.default.createElement("div",{className:r.action},n))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n("./node_modules/babel-runtime/helpers/extends.js"),s=r(o),l=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),i=r(l),c=n("./node_modules/react/index.js"),u=r(c),d=n("./node_modules/prop-types/index.js"),p=(r(d),n("./node_modules/classnames/index.js")),m=r(p),f=n("./node_modules/material-ui-next/styles/withStyles.js"),h=r(f),b=n("./node_modules/material-ui-next/Typography/index.js"),g=r(b),y=n("./node_modules/material-ui-next/Card/CardContent.js"),v=r(y),C=t.styles=function(e){return{root:{display:"flex",alignItems:"center"},avatar:{flex:"0 0 auto",marginRight:2*e.spacing.unit},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-1*e.spacing.unit,marginRight:-2*e.spacing.unit},content:{flex:"1 1 auto"},title:{},subheader:{}}};a.propTypes={},t.default=(0,h.default)(C,{name:"MuiCardHeader"})(a)},"./node_modules/material-ui-next/Card/CardMedia.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t,n=e.classes,r=e.className,a=e.component,o=e.image,l=e.src,c=e.style,d=(0,u.default)(e,["classes","className","component","image","src","style"]),m=-1!==C.indexOf(a),f=!m&&o?(0,i.default)({backgroundImage:"url("+o+")"},c):c,b=(0,h.default)((t={},(0,s.default)(t,n.root,!m),(0,s.default)(t,n.rootMedia,m),t),r);return p.default.createElement(a,(0,i.default)({className:b,style:f,src:m?o||l:void 0},d))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n("./node_modules/babel-runtime/helpers/defineProperty.js"),s=r(o),l=n("./node_modules/babel-runtime/helpers/extends.js"),i=r(l),c=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),u=r(c),d=n("./node_modules/react/index.js"),p=r(d),m=n("./node_modules/prop-types/index.js"),f=(r(m),n("./node_modules/classnames/index.js")),h=r(f),b=n("./node_modules/warning/browser.js"),g=(r(b),n("./node_modules/material-ui-next/styles/withStyles.js")),y=r(g),v=t.styles={root:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},rootMedia:{width:"100%"}},C=["video","audio","picture","iframe","img"];a.propTypes={},a.defaultProps={component:"div"},t.default=(0,y.default)(v,{name:"MuiCardMedia"})(a)},"./node_modules/material-ui-next/Card/index.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/material-ui-next/Card/Card.js");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(a).default}});var o=n("./node_modules/material-ui-next/Card/CardContent.js");Object.defineProperty(t,"CardContent",{enumerable:!0,get:function(){return r(o).default}});var s=n("./node_modules/material-ui-next/Card/CardActions.js");Object.defineProperty(t,"CardActions",{enumerable:!0,get:function(){return r(s).default}});var l=n("./node_modules/material-ui-next/Card/CardMedia.js");Object.defineProperty(t,"CardMedia",{enumerable:!0,get:function(){return r(l).default}});var i=n("./node_modules/material-ui-next/Card/CardHeader.js");Object.defineProperty(t,"CardHeader",{enumerable:!0,get:function(){return r(i).default}})},"./node_modules/react-icons/lib/fa/chevron-circle-down.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("./node_modules/react/index.js"),s=r(o),l=n("./node_modules/react-icon-base/lib/index.js"),i=r(l),c=function(e){return s.default.createElement(i.default,a({viewBox:"0 0 40 40"},e),s.default.createElement("g",null,s.default.createElement("path",{d:"m21.1 29l10.2-10.1q0.4-0.5 0.4-1t-0.4-1l-2.3-2.3q-0.4-0.4-1-0.4t-1 0.4l-6.9 6.8-6.8-6.8q-0.4-0.4-1-0.4t-1 0.4l-2.3 2.3q-0.4 0.4-0.4 1t0.4 1l10.1 10.1q0.5 0.4 1 0.4t1-0.4z m16.2-9q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"})))};t.default=c,e.exports=t.default},"./node_modules/react-icons/lib/fa/chevron-circle-up.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("./node_modules/react/index.js"),s=r(o),l=n("./node_modules/react-icon-base/lib/index.js"),i=r(l),c=function(e){return s.default.createElement(i.default,a({viewBox:"0 0 40 40"},e),s.default.createElement("g",null,s.default.createElement("path",{d:"m29 25.4l2.3-2.3q0.4-0.4 0.4-1t-0.4-1l-10.2-10.1q-0.4-0.4-1-0.4t-1 0.4l-10.1 10.1q-0.4 0.5-0.4 1t0.4 1l2.3 2.3q0.4 0.4 1 0.4t1-0.4l6.8-6.8 6.9 6.8q0.4 0.4 1 0.4t1-0.4z m8.3-5.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"})))};t.default=c,e.exports=t.default}});
//# sourceMappingURL=22.dc1b54266d4e28193c2b.chunk.js.map